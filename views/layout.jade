doctype html
html
  head
    title Blog
    link(rel='stylesheet', href='/stylesheets/style.css')
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css")
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css",rel="stylesheet",integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB",crossorigin="anonymous")
  body
    //- Navigation Bar
    nav.navbar.navbar-expand-lg.navbar-dark.bg-dark
      .container
        a.navbar-brand(href='/') My Blog
        button.navbar-toggler(type='button', data-bs-toggle='collapse', data-bs-target='#navbarNav')
          span.navbar-toggler-icon
        #navbarNav.collapse.navbar-collapse
          ul.navbar-nav.me-auto
            li.nav-item
              a.nav-link(href='/') Home
            if currentUser
              li.nav-item
                a.nav-link(href='/blogs/new') Create Blog
              li.nav-item
                a.nav-link(href='/profile') Profile

          ul.navbar-nav
            if currentUser
              //- Show when user is logged in
              li.nav-item
                a.nav-link(href='/blogs/new')
                  i.bi.bi-plus-circle.me-1
                  | Create Blog
              li.nav-item
                a.nav-link(href='/profile')
                  i.bi.bi-person.me-1
                  | Profile
              li.nav-item
                form(action='/users/logout', method='POST', style='display: inline;')
                  button.nav-link(type='submit', style='border: none; background: none; color: rgba(255,255,255,.55);')
                    i.bi.bi-box-arrow-right.me-1
                    | Logout
            else
              //- Show when user is not logged in
              li.nav-item
                a.nav-link(href='/users/login')
                  i.bi.bi-box-arrow-in-right.me-1
                  | Login
              li.nav-item
                a.nav-link(href='/users')
                  i.bi.bi-person-plus.me-1
                  | Register

    //- Main Content
    main.container.mt-4
      //- Flash Messages
      if messages
        each message in messages
          .alert.alert-dismissible.fade.show(class=`alert-${message.type}` role='alert')
            = message.message
            button.btn-close(type='button', data-bs-dismiss='alert')

      block content

    //- Footer
    footer.bg-dark.text-light.mt-5
      .container.py-4
        .row
          .col-md-6
            p &copy; 2024 My Blog. All rights reserved.
          .col-md-6.text-end
            p Built with Node.js & Express

  script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js",integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxMVD2scQbITxI",crossorigin="anonymous")
  script(src="/javascripts/main.js")